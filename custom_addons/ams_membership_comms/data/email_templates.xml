<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Welcome Email Template -->
        <record id="email_template_welcome" model="mail.template">
            <field name="name">Membership Welcome Email</field>
            <field name="model_id" ref="model_membership_comms"/>
            <field name="subject">Welcome to Our Organization, {{ object.partner_id.name }}!</field>
            <field name="email_to">{{ object.partner_id.email }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p>Dear {{ object.partner_id.name }},</p>
                    
                    <p>Welcome to our organization! We're thrilled to have you as a member.</p>
                    
                    <h3>Your Membership Details:</h3>
                    <ul>
                        <li><strong>Membership Level:</strong> {{ object.membership_id.level_id.name or 'Standard' }}</li>
                        <li><strong>Start Date:</strong> {{ object.membership_id.start_date }}</li>
                        <li><strong>End Date:</strong> {{ object.membership_id.end_date }}</li>
                        {% if object.membership_id.chapter_id %}
                        <li><strong>Chapter:</strong> {{ object.membership_id.chapter_id.name }}</li>
                        {% endif %}
                    </ul>
                    
                    <h3>What's Next?</h3>
                    <p>Here are some things you can do to get started:</p>
                    <ul>
                        <li>Visit our member portal to update your profile</li>
                        <li>Check out upcoming events and register</li>
                        <li>Connect with other members in your area</li>
                        <li>Explore member benefits and resources</li>
                    </ul>
                    
                    <p>If you have any questions, please don't hesitate to contact us.</p>
                    
                    <p>Best regards,<br/>
                    The Membership Team</p>
                </div>
            </field>
        </record>

        <!-- Renewal Reminder Email Template -->
        <record id="email_template_renewal_reminder" model="mail.template">
            <field name="name">Membership Renewal Reminder</field>
            <field name="model_id" ref="model_membership_comms"/>
            <field name="subject">Membership Renewal Reminder - {{ object.days_before_expiry }} Days Remaining</field>
            <field name="email_to">{{ object.partner_id.email }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p>Dear {{ object.partner_id.name }},</p>
                    
                    <p>This is a friendly reminder that your membership will expire in 
                    <strong>{{ object.days_before_expiry }} day{{ object.days_before_expiry != 1 and 's' or '' }}</strong>.</p>
                    
                    <h3>Membership Details:</h3>
                    <ul>
                        <li><strong>Membership Level:</strong> {{ object.membership_id.level_id.name }}</li>
                        <li><strong>Expiration Date:</strong> {{ object.membership_id.end_date }}</li>
                        {% if object.membership_id.balance_due > 0 %}
                        <li><strong>Outstanding Balance:</strong> ${{ "%.2f"|format(object.membership_id.balance_due) }}</li>
                        {% endif %}
                    </ul>
                    
                    {% if object.days_before_expiry <= 7 %}
                    <div style="background-color: #fff3cd; border: 1px solid #ffeaa7; padding: 10px; margin: 10px 0;">
                        <strong>Urgent Action Required!</strong> Your membership expires soon.
                    </div>
                    {% endif %}
                    
                    <h3>Renew Your Membership</h3>
                    <p>To continue enjoying all the benefits of membership, please renew as soon as possible.</p>
                    
                    <p style="text-align: center;">
                        <a href="#" style="background-color: #007bff; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px;">
                            Renew Now
                        </a>
                    </p>
                    
                    <p>Thank you for your continued support!</p>
                    
                    <p>Best regards,<br/>
                    The Membership Team</p>
                </div>
            </field>
        </record>

        <!-- Lapsed Notice Email Template -->
        <record id="email_template_lapsed_notice" model="mail.template">
            <field name="name">Membership Lapsed Notice</field>
            <field name="model_id" ref="model_membership_comms"/>
            <field name="subject">We Miss You - Your Membership Has Lapsed</field>
            <field name="email_to">{{ object.partner_id.email }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p>Dear {{ object.partner_id.name }},</p>
                    
                    <p>We noticed that your membership expired on {{ object.membership_id.end_date }}, 
                    and we miss having you as an active member!</p>
                    
                    <h3>What You're Missing:</h3>
                    <ul>
                        <li>Access to member-only events and discounts</li>
                        <li>Networking opportunities with fellow members</li>
                        <li>Exclusive resources and benefits</li>
                        <li>Voting rights in organization matters</li>
                    </ul>
                    
                    <h3>Rejoin Us Today</h3>
                    <p>It's not too late to rejoin! We'd love to welcome you back.</p>
                    
                    <p style="text-align: center;">
                        <a href="#" style="background-color: #28a745; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px;">
                            Rejoin Now
                        </a>
                    </p>
                    
                    <p>If you have any questions about rejoining or need assistance, 
                    please don't hesitate to contact us.</p>
                    
                    <p>We hope to see you back soon!</p>
                    
                    <p>Best regards,<br/>
                    The Membership Team</p>
                </div>
            </field>
        </record>

        <!-- Event Confirmation Email Template -->
        <record id="email_template_event_confirmation" model="mail.template">
            <field name="name">Event Registration Confirmation</field>
            <field name="model_id" ref="model_membership_comms"/>
            <field name="subject">Event Registration Confirmed - {{ object.event_id.name }}</field>
            <field name="email_to">{{ object.partner_id.email }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p>Dear {{ object.partner_id.name }},</p>
                    
                    <p>Thank you for registering for <strong>{{ object.event_id.name }}</strong>!</p>
                    
                    <h3>Event Details:</h3>
                    <ul>
                        <li><strong>Event:</strong> {{ object.event_id.name }}</li>
                        <li><strong>Date:</strong> {{ object.event_id.date_begin.strftime('%B %d, %Y') }}</li>
                        <li><strong>Time:</strong> {{ object.event_id.date_begin.strftime('%I:%M %p') }}</li>
                        {% if object.event_id.address_id %}
                        <li><strong>Location:</strong> {{ object.event_id.address_id.contact_address_complete }}</li>
                        {% endif %}
                        {% if object.event_id.website %}
                        <li><strong>Website:</strong> <a href="{{ object.event_id.website }}">{{ object.event_id.website }}</a></li>
                        {% endif %}
                    </ul>
                    
                    {% if object.event_id.description %}
                    <h3>Event Description:</h3>
                    <p>{{ object.event_id.description | safe }}</p>
                    {% endif %}
                    
                    <h3>Important Notes:</h3>
                    <ul>
                        <li>Please arrive 15 minutes early for check-in</li>
                        <li>Bring a valid ID for verification</li>
                        <li>Contact us if you need to cancel or make changes</li>
                    </ul>
                    
                    <p>We're looking forward to seeing you at the event!</p>
                    
                    <p>Best regards,<br/>
                    The Events Team</p>
                </div>
            </field>
        </record>

        <!-- Payment Confirmation Email Template -->
        <record id="email_template_payment_confirmation" model="mail.template">
            <field name="name">Payment Confirmation</field>
            <field name="model_id" ref="model_membership_comms"/>
            <field name="subject">Payment Received - Thank You!</field>
            <field name="email_to">{{ object.partner_id.email }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p>Dear {{ object.partner_id.name }},</p>
                    
                    <p>Thank you! We have received your payment.</p>
                    
                    <h3>Payment Details:</h3>
                    <ul>
                        <li><strong>Amount:</strong> ${{ "%.2f"|format(object.membership_id.total_paid) }}</li>
                        <li><strong>Payment Date:</strong> {{ object.membership_id.paid_through_date or 'Today' }}</li>
                        {% if object.membership_id %}
                        <li><strong>Membership Valid Until:</strong> {{ object.membership_id.end_date }}</li>
                        {% endif %}
                    </ul>
                    
                    <p>Your membership is now current and all benefits are active.</p>
                    
                    <p>If you have any questions about your payment or membership, 
                    please don't hesitate to contact us.</p>
                    
                    <p>Thank you for your continued support!</p>
                    
                    <p>Best regards,<br/>
                    The Membership Team</p>
                </div>
            </field>
        </record>

    </data>
</odoo>