<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<!-- ACTION: Individual Members -->
	<record id="action_res_partner_individual" model="ir.actions.act_window">
		<field name="name">Individuals</field>
		<field name="res_model">res.partner</field>
		<!-- Odoo 18: use list instead of tree -->
		<field name="view_mode">list,form</field>
		<!-- Only natural persons -->
		<field name="domain">[('is_company', '=', False)]</field>
		<!-- Start on active = True; you can tweak defaults here -->
		<field name="context">
            {
                "search_default_filter_individuals": 1,
                "default_is_company": false
            }
        </field>
	</record>
	<record id="view_res_partner_individual_list" model="ir.ui.view">
		<field name="name">res.partner.individual.list</field>
		<field name="model">res.partner</field>
		<field name="arch" type="xml">
			<list string="Individual Members">
				<field name="name"/>
				<field name="email"/>
				<field name="phone"/>
				<!-- Include these only if confirmed present in res.partner -->
				<field name="member_type_id" optional="hide"/>
				<field name="member_status_id" optional="hide"/>
				<field name="active" optional="hide"/>
			</list>
		</field>
	</record>
	<!-- FORM VIEW: Individual Member -->
	<record id="view_res_partner_individual_form" model="ir.ui.view">
		<field name="name">res.partner.individual.form</field>
		<field name="model">res.partner</field>
		<field name="priority" eval="20"/>
		<field name="arch" type="xml">
			<form string="Individual">
				<sheet>
					<!-- Stat / ribbon area -->
					<div class="oe_button_box" name="button_box">
						<!-- Example stat button: shows total meetings if you use calendar;
                             safe to keep or remove. Itâ€™s just an example and not required. -->
						<!--
                        <button type="action"
                                name="calendar.action_calendar_event"
                                class="oe_stat_button"
                                icon="fa-calendar"
                                context="{'search_default_partner_ids': [active_id]}"><span class="o_stat_info">Meetings</span></button>
                        -->
					</div>
					<!-- Archived ribbon; Odoo 17+: use modifiers -->
					<widget name="web_ribbon" title="Archived" bg_color="bg-danger"
                            modifiers='{"invisible": [["active","=", true]]}'/>
					<div class="oe_title">
						<h1>
							<field name="name" placeholder="Full Name"/>
						</h1>
					</div>
					<group>
						<group>
							<!-- Make sure we are a natural person -->
							<field name="is_company" modifiers='{"readonly": true}'/>
							<field name="email"/>
							<field name="phone"/>
							<field name="mobile" optional="hide"/>
						</group>
						<group>
							<!-- Optional demographic / classification fields -->
							<field name="member_type_id" optional="hide"/>
							<field name="member_status_id" optional="hide"/>
							<field name="active"/>
						</group>
					</group>
					<notebook>
						<page string="Contact">
							<group>
								<field name="street" placeholder="Street"/>
								<field name="street2" placeholder="Street 2" optional="hide"/>
								<field name="city"/>
								<field name="state_id"/>
								<field name="zip"/>
								<field name="country_id"/>
							</group>
						</page>
						<page string="Internal Notes">
							<field name="comment" placeholder="Notes about this individual..." nolabel="1"/>
						</page>
					</notebook>
				</sheet>
			</form>
		</field>
	</record>
	<!-- SEARCH VIEW: Individual Members -->
	<record id="view_res_partner_individual_search" model="ir.ui.view">
		<field name="name">res.partner.individual.search</field>
		<field name="model">res.partner</field>
		<field name="arch" type="xml">
			<search string="Search Individuals">
				<field name="name"/>
				<field name="email"/>
				<field name="phone"/>
				<!-- Quick filters -->
				<filter string="Individuals" name="filter_individuals"
                        domain="[('is_company', '=', False)]"/>
				<separator/>
				<filter string="Active" name="active_true"
                        domain="[('active', '=', True)]"/>
				<filter string="Archived" name="active_false"
                        domain="[('active', '=', False)]"/>
				<!-- If your module added these fields, the filters will work; else remove. -->
				<separator/>
				<filter string="Has Member Type" name="has_member_type"
                        domain="[('member_type_id', '!=', False)]"/>
				<filter string="Has Status" name="has_member_status"
                        domain="[('member_status_id', '!=', False)]"/>
				<group expand="0" string="Group By">
					<filter string="Member Type" name="group_member_type"
                            context="{'group_by': 'member_type_id'}"/>
					<filter string="Status" name="group_member_status"
                            context="{'group_by': 'member_status_id'}"/>
					<filter string="Country" name="group_country"
                            context="{'group_by': 'country_id'}"/>
				</group>
			</search>
		</field>
	</record>
	<!-- OPTIONAL: add a menu (only if you want a dedicated entry under your AMS menu)
         If you already navigate to Individuals via Contacts app or another menu, you can remove this. -->
	<!--
    <menuitem id="menu_ams_individuals"
              name="Individuals"
              parent="menu_ams_root"
              action="action_res_partner_individual"
              sequence="30"/>
    -->
</odoo>
