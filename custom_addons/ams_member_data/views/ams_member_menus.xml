<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Root AMS Menu -->
    <menuitem id="menu_ams_root" 
              name="AMS" 
              sequence="10"/>

    <!-- Members Menu Section -->
    <menuitem id="menu_ams_members" 
              name="Members" 
              parent="menu_ams_root" 
              sequence="10"/>

    <!-- All Members Combined Action - FIXED: tree -> list -->
    <record id="action_partner_all_members" model="ir.actions.act_window">
        <field name="name">All Members</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">kanban,list,form</field>
        <field name="domain">[('is_member', '=', True)]</field>
        <field name="context">{}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first member!
            </p>
            <p>
                This view shows all contacts who are current or past members of your association.
                Use the filters to narrow down by membership status, type, or other criteria.
            </p>
        </field>
    </record>

    <!-- Prospects Action (Non-Members) - FIXED: tree -> list -->
    <record id="action_partner_prospects" model="ir.actions.act_window">
        <field name="name">Prospects</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">kanban,list,form</field>
        <field name="domain">[('is_member', '=', False)]</field>
        <field name="context">{}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first prospect!
            </p>
            <p>
                Prospects are contacts who are not yet members but may be interested in joining your association.
            </p>
        </field>
    </record>

    <!-- Member Menu Items -->
    <menuitem id="menu_all_members" 
              name="All Members" 
              parent="menu_ams_members" 
              action="action_partner_all_members" 
              sequence="10"/>

    <menuitem id="menu_individual_members" 
              name="Individual Members" 
              parent="menu_ams_members" 
              action="action_partner_individual_members" 
              sequence="20"/>

    <menuitem id="menu_organization_members" 
              name="Organization Members" 
              parent="menu_ams_members" 
              action="action_partner_organization_members" 
              sequence="30"/>

    <menuitem id="menu_all_organizations" 
              name="All Organizations" 
              parent="menu_ams_members" 
              action="action_partner_all_organizations" 
              sequence="35"/>

    <menuitem id="menu_prospects" 
              name="Prospects" 
              parent="menu_ams_members" 
              action="action_partner_prospects" 
              sequence="40"/>

</odoo>