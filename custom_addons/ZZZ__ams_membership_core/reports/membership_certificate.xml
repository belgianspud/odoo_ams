<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- Membership Certificate Report -->
        <record id="action_report_membership_certificate" model="ir.actions.report">
            <field name="name">Membership Certificate</field>
            <field name="model">ams.membership</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">ams_membership_core.report_membership_certificate</field>
            <field name="report_file">ams_membership_core.report_membership_certificate</field>
            <field name="binding_model_id" ref="model_ams_membership"/>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="base.paperformat_a4"/>
        </record>

        <!-- Membership Certificate Template -->
        <template id="report_membership_certificate">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="membership">
                    <t t-call="web.external_layout">
                        <div class="page">
                            <style>
                                .certificate-container {
                                    border: 8px double #2E7D32;
                                    padding: 40px;
                                    margin: 20px;
                                    text-align: center;
                                    background: linear-gradient(to bottom, #f8f9fa 0%, #ffffff 100%);
                                    min-height: 600px;
                                    display: flex;
                                    flex-direction: column;
                                    justify-content: center;
                                }
                                
                                .certificate-title {
                                    font-size: 36px;
                                    font-weight: bold;
                                    color: #2E7D32;
                                    margin-bottom: 20px;
                                    text-transform: uppercase;
                                    letter-spacing: 2px;
                                }
                                
                                .certificate-subtitle {
                                    font-size: 20px;
                                    color: #666;
                                    margin-bottom: 30px;
                                    font-style: italic;
                                }
                                
                                .member-name {
                                    font-size: 32px;
                                    font-weight: bold;
                                    color: #1565C0;
                                    margin: 30px 0;
                                    border-bottom: 2px solid #1565C0;
                                    padding-bottom: 10px;
                                    display: inline-block;
                                    min-width: 400px;
                                }
                                
                                .certificate-text {
                                    font-size: 18px;
                                    line-height: 1.6;
                                    color: #333;
                                    margin: 20px 0;
                                }
                                
                                .membership-details {
                                    background: #f5f5f5;
                                    border-radius: 10px;
                                    padding: 20px;
                                    margin: 30px auto;
                                    max-width: 500px;
                                    border-left: 4px solid #2E7D32;
                                }
                                
                                .detail-row {
                                    display: flex;
                                    justify-content: space-between;
                                    margin: 10px 0;
                                    font-size: 16px;
                                }
                                
                                .detail-label {
                                    font-weight: bold;
                                    color: #555;
                                }
                                
                                .detail-value {
                                    color: #333;
                                }
                                
                                .certificate-footer {
                                    margin-top: 40px;
                                    display: flex;
                                    justify-content: space-between;
                                    align-items: end;
                                }
                                
                                .signature-line {
                                    border-bottom: 2px solid #333;
                                    width: 200px;
                                    text-align: center;
                                    padding-bottom: 5px;
                                }
                                
                                .signature-label {
                                    font-size: 12px;
                                    color: #666;
                                    margin-top: 5px;
                                }
                                
                                .certificate-seal {
                                    width: 80px;
                                    height: 80px;
                                    border: 3px solid #2E7D32;
                                    border-radius: 50%;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    font-size: 12px;
                                    font-weight: bold;
                                    color: #2E7D32;
                                    background: #fff;
                                }
                            </style>

                            <div class="certificate-container">
                                <!-- Certificate Header -->
                                <div class="certificate-title">
                                    Certificate of Membership
                                </div>
                                
                                <div class="certificate-subtitle">
                                    This is to certify that
                                </div>

                                <!-- Member Name -->
                                <div class="member-name">
                                    <span t-field="membership.partner_id.name"/>
                                </div>

                                <!-- Certificate Body -->
                                <div class="certificate-text">
                                    is a member in good standing of<br/>
                                    <strong><span t-esc="membership.env.company.name"/></strong><br/>
                                    and is entitled to all rights and privileges of membership
                                </div>

                                <!-- Membership Details -->
                                <div class="membership-details">
                                    <div class="detail-row">
                                        <span class="detail-label">Member ID:</span>
                                        <span class="detail-value" t-field="membership.name"/>
                                    </div>
                                    <div class="detail-row">
                                        <span class="detail-label">Member Type:</span>
                                        <span class="detail-value" t-field="membership.member_type_id.name"/>
                                    </div>
                                    <div class="detail-row">
                                        <span class="detail-label">Membership Product:</span>
                                        <span class="detail-value" t-field="membership.product_id.name"/>
                                    </div>
                                    <div class="detail-row">
                                        <span class="detail-label">Valid From:</span>
                                        <span class="detail-value" t-field="membership.start_date"/>
                                    </div>
                                    <div class="detail-row">
                                        <span class="detail-label">Valid Until:</span>
                                        <span class="detail-value" t-field="membership.end_date"/>
                                    </div>
                                    <div class="detail-row">
                                        <span class="detail-label">Status:</span>
                                        <span class="detail-value" t-esc="membership.state.title()"/>
                                    </div>
                                </div>

                                <!-- Certificate Footer -->
                                <div class="certificate-footer">
                                    <div class="signature-section">
                                        <div class="signature-line"></div>
                                        <div class="signature-label">
                                            Executive Director
                                        </div>
                                    </div>
                                    
                                    <div class="certificate-seal">
                                        OFFICIAL<br/>SEAL
                                    </div>
                                    
                                    <div class="date-section">
                                        <div class="detail-label">Issued:</div>
                                        <div class="detail-value" t-esc="datetime.datetime.now().strftime('%B %d, %Y')"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </t>
            </t>
        </template>

        <!-- Membership Card Report (Smaller Format) -->
        <record id="action_report_membership_card" model="ir.actions.report">
            <field name="name">Membership Card</field>
            <field name="model">ams.membership</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">ams_membership_core.report_membership_card</field>
            <field name="report_file">ams_membership_core.report_membership_card</field>
            <field name="binding_model_id" ref="model_ams_membership"/>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="base.paperformat_a4"/>
        </record>

        <!-- Membership Card Template -->
        <template id="report_membership_card">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="membership">
                    <div class="page">
                        <style>
                            .membership-card {
                                width: 350px;
                                height: 220px;
                                border: 2px solid #2E7D32;
                                border-radius: 15px;
                                margin: 20px auto;
                                padding: 20px;
                                background: linear-gradient(135deg, #2E7D32 0%, #4CAF50 100%);
                                color: white;
                                box-shadow: 0 4px 8px rgba(0,0,0,0.3);
                                position: relative;
                                overflow: hidden;
                            }
                            
                            .card-header {
                                text-align: center;
                                margin-bottom: 15px;
                            }
                            
                            .organization-name {
                                font-size: 14px;
                                font-weight: bold;
                                text-transform: uppercase;
                                letter-spacing: 1px;
                            }
                            
                            .card-title {
                                font-size: 16px;
                                font-weight: bold;
                                margin-top: 5px;
                            }
                            
                            .member-info {
                                background: rgba(255,255,255,0.1);
                                border-radius: 8px;
                                padding: 10px;
                                margin: 10px 0;
                            }
                            
                            .member-name {
                                font-size: 18px;
                                font-weight: bold;
                                margin-bottom: 5px;
                            }
                            
                            .member-details {
                                font-size: 12px;
                                opacity: 0.9;
                            }
                            
                            .card-footer {
                                position: absolute;
                                bottom: 15px;
                                left: 20px;
                                right: 20px;
                                display: flex;
                                justify-content: space-between;
                                font-size: 10px;
                                opacity: 0.8;
                            }
                            
                            .card-pattern {
                                position: absolute;
                                top: -50px;
                                right: -50px;
                                width: 150px;
                                height: 150px;
                                border: 20px solid rgba(255,255,255,0.1);
                                border-radius: 50%;
                            }
                        </style>

                        <div class="membership-card">
                            <div class="card-pattern"></div>
                            
                            <div class="card-header">
                                <div class="organization-name">
                                    <span t-esc="membership.env.company.name"/>
                                </div>
                                <div class="card-title">
                                    MEMBER CARD
                                </div>
                            </div>

                            <div class="member-info">
                                <div class="member-name">
                                    <span t-field="membership.partner_id.name"/>
                                </div>
                                <div class="member-details">
                                    <div>ID: <span t-field="membership.name"/></div>
                                    <div>Type: <span t-field="membership.member_type_id.name"/></div>
                                    <div>Valid: <span t-field="membership.start_date"/> - <span t-field="membership.end_date"/></div>
                                </div>
                            </div>

                            <div class="card-footer">
                                <div>
                                    Status: <span t-esc="membership.state.title()"/>
                                </div>
                                <div>
                                    Issued: <span t-esc="datetime.datetime.now().strftime('%m/%Y')"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </t>
            </t>
        </template>

    </data>
</odoo>