<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- AMS Configuration Settings Form View -->
    <record id="view_ams_config_settings_form" model="ir.ui.view">
        <field name="name">AMS Configuration Settings</field>
        <field name="model">ams.config.settings</field>
        <field name="arch" type="xml">
            <form string="AMS Configuration" class="oe_form_configuration">
                <header>
                    <button name="execute" string="Save" type="object" class="oe_highlight"/>
                    or 
                    <button name="cancel" string="Discard" type="object" class="oe_link"/>
                </header>
                
                <sheet>
                    <div class="row mt16 o_settings_container">
                        <!-- Left Column -->
                        <div class="col-12 col-lg-6 o_setting_box">
                            <h2>Membership Settings</h2>
                            
                            <!-- Member ID Configuration -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane">
                                    <field name="auto_member_id"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="auto_member_id"/>
                                    <div class="text-muted">
                                        Automatically assign unique member IDs to new members
                                    </div>
                                    <div class="content-group mt16" invisible="not auto_member_id">
                                        <div class="row">
                                            <label for="member_id_prefix" class="col-lg-3 o_light_label"/>
                                            <field name="member_id_prefix" class="col-lg-9"/>
                                        </div>
                                        <div class="row mt8">
                                            <label for="member_id_sequence" class="col-lg-3 o_light_label"/>
                                            <field name="member_id_sequence" class="col-lg-9" options="{'no_create': True}"/>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Grace Period -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane"/>
                                <div class="o_setting_right_pane">
                                    <label for="grace_period_days"/>
                                    <div class="text-muted">Default grace period for expired memberships</div>
                                    <div class="content-group">
                                        <field name="grace_period_days"/>
                                    </div>
                                </div>
                            </div>

                            <!-- Renewal Window -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane"/>
                                <div class="o_setting_right_pane">
                                    <label for="renewal_window_days"/>
                                    <div class="text-muted">Days before expiration to send renewal notices</div>
                                    <div class="content-group">
                                        <field name="renewal_window_days"/>
                                    </div>
                                </div>
                            </div>

                            <!-- Multiple Memberships -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane">
                                    <field name="allow_multiple_memberships"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="allow_multiple_memberships"/>
                                    <div class="text-muted">
                                        Allow members to hold multiple active memberships simultaneously
                                    </div>
                                </div>
                            </div>

                            <h2 class="mt32">Communication &amp; Portal Settings</h2>

                            <!-- Portal Settings -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane">
                                    <field name="portal_enabled"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="portal_enabled"/>
                                    <div class="text-muted">
                                        Enable member self-service portal access
                                    </div>
                                </div>
                            </div>

                            <!-- Portal Self Registration -->
                            <div class="row mt16 o_settings_container" invisible="not portal_enabled">
                                <div class="o_setting_left_pane">
                                    <field name="portal_self_registration"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="portal_self_registration"/>
                                    <div class="text-muted">
                                        Allow new members to register through portal
                                    </div>
                                </div>
                            </div>

                            <!-- Communication Opt Out -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane">
                                    <field name="communication_opt_out_default"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="communication_opt_out_default"/>
                                    <div class="text-muted">New members opt-out of communications by default</div>
                                </div>
                            </div>

                            <!-- Emergency Override -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane">
                                    <field name="emergency_communications_override"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="emergency_communications_override"/>
                                    <div class="text-muted">Allow emergency communications regardless of preferences</div>
                                </div>
                            </div>

                            <!-- Notification Frequency -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane"/>
                                <div class="o_setting_right_pane">
                                    <label for="notification_digest_frequency"/>
                                    <div class="text-muted">Default notification frequency for members</div>
                                    <div class="content-group">
                                        <field name="notification_digest_frequency"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right Column -->
                        <div class="col-12 col-lg-6 o_setting_box">
                            <h2>Financial Settings</h2>

                            <!-- Default Currency -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane"/>
                                <div class="o_setting_right_pane">
                                    <label for="default_currency_id"/>
                                    <div class="text-muted">Primary currency for membership dues and transactions</div>
                                    <div class="content-group">
                                        <field name="default_currency_id" options="{'no_create': True}"/>
                                    </div>
                                </div>
                            </div>

                            <!-- Fiscal Year Start -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane"/>
                                <div class="o_setting_right_pane">
                                    <label for="fiscal_year_start"/>
                                    <div class="text-muted">Start month for your association's fiscal year</div>
                                    <div class="content-group">
                                        <field name="fiscal_year_start"/>
                                    </div>
                                </div>
                            </div>

                            <!-- Chapter Revenue Sharing -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane">
                                    <field name="chapter_revenue_sharing"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="chapter_revenue_sharing"/>
                                    <div class="text-muted">
                                        Enable revenue sharing with local chapters
                                    </div>
                                    <div class="content-group mt16" invisible="not chapter_revenue_sharing">
                                        <div class="row">
                                            <label for="default_chapter_percentage" class="col-lg-4 o_light_label"/>
                                            <field name="default_chapter_percentage" class="col-lg-4"/>
                                            <span class="col-lg-1">%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <h2 class="mt32">Feature Settings</h2>

                            <!-- Enterprise Features -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane">
                                    <field name="enterprise_subscriptions_enabled"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="enterprise_subscriptions_enabled"/>
                                    <div class="text-muted">
                                        Enable enterprise seat management features for corporate memberships
                                    </div>
                                </div>
                            </div>

                            <!-- Continuing Education -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane">
                                    <field name="continuing_education_required"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="continuing_education_required"/>
                                    <div class="text-muted">
                                        Require continuing education credits for membership maintenance
                                    </div>
                                </div>
                            </div>

                            <!-- Fundraising Features -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane">
                                    <field name="fundraising_enabled"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="fundraising_enabled"/>
                                    <div class="text-muted">
                                        Enable donation and campaign management capabilities
                                    </div>
                                </div>
                            </div>

                            <!-- Event Member Pricing -->
                            <div class="row mt16 o_settings_container">
                                <div class="o_setting_left_pane">
                                    <field name="event_member_pricing"/>
                                </div>
                                <div class="o_setting_right_pane">
                                    <label for="event_member_pricing"/>
                                    <div class="text-muted">
                                        Enable special pricing for members at association events
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <!-- AMS Configuration Action -->
    <record id="action_ams_config_settings" model="ir.actions.act_window">
        <field name="name">AMS Configuration</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">ams.config.settings</field>
        <field name="view_mode">form</field>
        <field name="target">inline</field>
        <field name="context">{}</field>
    </record>

    <!-- Menu Items 
    <menuitem id="menu_ams_root" 
              name="AMS Settings" 
              parent="base.menu_administration" 
              sequence="90"/>
    
    <menuitem id="menu_ams_configuration" 
              name="Configuration" 
              parent="menu_ams_root" 
              sequence="100"/>
    
    <menuitem id="menu_ams_system_configuration" 
              name="AMS Configuration" 
              parent="menu_ams_configuration"
              action="action_ams_config_settings" 
              sequence="1"/>
    -->
    <menuitem id="menu_ams_config_settings" 
              name="AMS Configuration" 
              parent="base.menu_administration"
              action="action_ams_config_settings" 
              sequence="50"
              groups="base.group_system"/>
</odoo>