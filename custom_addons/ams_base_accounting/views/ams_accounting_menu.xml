<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- ==============================================
         AMS ACCOUNTING MAIN MENU STRUCTURE
         ============================================== -->
    
    <!-- Root Menu -->
    <menuitem id="menu_ams_accounting_root" 
              name="AMS Accounting" 
              web_icon="ams_base_accounting,static/description/icon.png" 
              sequence="15"/>
    
    <!-- ==============================================
         CHART OF ACCOUNTS
         ============================================== -->
    
    <menuitem id="menu_ams_chart_of_accounts" 
              name="Chart of Accounts" 
              parent="menu_ams_accounting_root" 
              sequence="10"/>
    
    <menuitem id="menu_ams_accounts" 
              name="Accounts" 
              parent="menu_ams_chart_of_accounts" 
              action="action_ams_account_account"
              sequence="10"/>
    
    <!-- ==============================================
         JOURNALS & ENTRIES
         ============================================== -->
    
    <menuitem id="menu_ams_journals_entries" 
              name="Journals &amp; Entries" 
              parent="menu_ams_accounting_root" 
              sequence="20"/>
    
    <menuitem id="menu_ams_journals" 
              name="Journals" 
              parent="menu_ams_journals_entries" 
              action="action_ams_account_journal"
              sequence="10"/>
    
    <menuitem id="menu_ams_journal_entries" 
              name="Journal Entries" 
              parent="menu_ams_journals_entries" 
              action="action_ams_account_move"
              sequence="20"/>
    
    <!-- ==============================================
         REVENUE RECOGNITION
         ============================================== -->
    
    <menuitem id="menu_ams_revenue_recognition" 
              name="Revenue Recognition" 
              parent="menu_ams_accounting_root" 
              sequence="30"/>
    
    <menuitem id="menu_revenue_recognition_entries" 
              name="Recognition Entries" 
              parent="menu_ams_revenue_recognition" 
              action="action_ams_revenue_recognition"
              sequence="10"/>
    
    <menuitem id="menu_revenue_recognition_schedules" 
              name="Recognition Schedules" 
              parent="menu_ams_revenue_recognition" 
              action="action_ams_revenue_recognition_schedule"
              sequence="20"/>
    
    <!-- ==============================================
         SUBSCRIPTION ACCOUNTING (if available)
         ============================================== -->
    
    <menuitem id="menu_ams_subscription_accounting" 
              name="Subscription Accounting" 
              parent="menu_ams_accounting_root" 
              sequence="40"/>
    
    <menuitem id="menu_subscription_accounting_overview" 
              name="Overview" 
              parent="menu_ams_subscription_accounting" 
              action="action_ams_subscription_accounting"
              sequence="10"/>
    
    <!-- ==============================================
         PRODUCTS
         ============================================== -->
    
    <menuitem id="menu_ams_products" 
              name="Products" 
              parent="menu_ams_accounting_root" 
              sequence="50"/>
    
    <menuitem id="menu_subscription_products" 
              name="Subscription Products" 
              parent="menu_ams_products" 
              action="action_subscription_products"
              sequence="10"/>
    
    <!-- ==============================================
         CONFIGURATION
         ============================================== -->
    
    <menuitem id="menu_ams_configuration" 
              name="Configuration" 
              parent="menu_ams_accounting_root" 
              sequence="90"
              groups="ams_base_accounting.group_ams_accounting_manager"/>
    
    <menuitem id="menu_ams_accounting_setup" 
              name="Accounting Setup" 
              parent="menu_ams_configuration" 
              action="action_ams_accounting_setup_wizard"
              sequence="10"/>
    
    <!-- ==============================================
         BASIC ACTIONS (referenced by menus above)
         ============================================== -->
    
    <!-- Account Action -->
    <record id="action_ams_account_account" model="ir.actions.act_window">
        <field name="name">Accounts</field>
        <field name="res_model">ams.account.account</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first account!
            </p>
            <p>
                Accounts are used to track assets, liabilities, income and expenses.
            </p>
        </field>
    </record>
    
    <!-- Journal Action -->
    <record id="action_ams_account_journal" model="ir.actions.act_window">
        <field name="name">Journals</field>
        <field name="res_model">ams.account.journal</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first journal!
            </p>
            <p>
                Journals are used to organize accounting entries by type.
            </p>
        </field>
    </record>
    
    <!-- Journal Entry Action -->
    <record id="action_ams_account_move" model="ir.actions.act_window">
        <field name="name">Journal Entries</field>
        <field name="res_model">ams.account.move</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first journal entry!
            </p>
            <p>
                Journal entries record the financial impact of business transactions.
            </p>
        </field>
    </record>
    
    <!-- Revenue Recognition Action -->
    <record id="action_ams_revenue_recognition" model="ir.actions.act_window">
        <field name="name">Revenue Recognition</field>
        <field name="res_model">ams.revenue.recognition</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first revenue recognition entry!
            </p>
            <p>
                Revenue recognition entries track when income is earned over time.
            </p>
        </field>
    </record>
    
    <!-- Revenue Recognition Schedule Action -->
    <record id="action_ams_revenue_recognition_schedule" model="ir.actions.act_window">
        <field name="name">Revenue Recognition Schedules</field>
        <field name="res_model">ams.revenue.recognition.schedule</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first recognition schedule!
            </p>
            <p>
                Schedules automate the creation of revenue recognition entries.
            </p>
        </field>
    </record>
    
    <!-- Subscription Accounting Action -->
    <record id="action_ams_subscription_accounting" model="ir.actions.act_window">
        <field name="name">Subscription Accounting</field>
        <field name="res_model">ams.subscription.accounting</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Configure subscription accounting!
            </p>
            <p>
                Set up financial accounts and revenue recognition for subscriptions.
            </p>
        </field>
    </record>
    
    <!-- Subscription Products Action -->
    <record id="action_subscription_products" model="ir.actions.act_window">
        <field name="name">Subscription Products</field>
        <field name="res_model">product.template</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('is_subscription_product', '=', True)]</field>
        <field name="context">{'default_is_subscription_product': True}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first subscription product!
            </p>
            <p>
                Subscription products are used for recurring membership fees.
            </p>
        </field>
    </record>
    
    <!-- Setup Wizard Action -->
    <record id="action_ams_accounting_setup_wizard" model="ir.actions.act_window">
        <field name="name">AMS Accounting Setup</field>
        <field name="res_model">ams.accounting.setup.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Set up AMS Accounting!
            </p>
            <p>
                Configure chart of accounts and default settings.
            </p>
        </field>
    </record>
    
</odoo>